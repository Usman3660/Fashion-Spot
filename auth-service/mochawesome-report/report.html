<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:6,&quot;tests&quot;:11,&quot;passes&quot;:8,&quot;pending&quot;:0,&quot;failures&quot;:3,&quot;start&quot;:&quot;2025-05-13T22:27:03.185Z&quot;,&quot;end&quot;:&quot;2025-05-13T22:27:05.292Z&quot;,&quot;duration&quot;:2107,&quot;testsRegistered&quot;:11,&quot;passPercent&quot;:72.72727272727273,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;f96a0ec2-a1b7-4613-bfe9-3b10c4b47600&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;67cac3fc-e593-40af-b55c-a296e166af1d&quot;,&quot;title&quot;:&quot;Auth API&quot;,&quot;fullFile&quot;:&quot;D:\\Sixth smester\\web\\fashion-spot_Updated\\fashion-spot_Updated\\auth-service\\testcases\\auth.test.js&quot;,&quot;file&quot;:&quot;\\testcases\\auth.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Auth API\&quot;&quot;,&quot;fullTitle&quot;:&quot;Auth API \&quot;before all\&quot; hook in \&quot;Auth API\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:601,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Start MongoDB in-memory server\nmongoServer = await MongoMemoryServer.create();\nconst mongoUri = mongoServer.getUri();\n\n// Disconnect from any existing connection and connect to test DB\nawait mongoose.disconnect();\nawait mongoose.connect(mongoUri);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c776e946-7e78-44d0-9e3d-9282d2429d4c&quot;,&quot;parentUUID&quot;:&quot;67cac3fc-e593-40af-b55c-a296e166af1d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Auth API\&quot;&quot;,&quot;fullTitle&quot;:&quot;Auth API \&quot;before each\&quot; hook in \&quot;Auth API\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Clear User collection before each test\nawait User.deleteMany({});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;874d5c9e-6e3f-40e6-85d1-3508043264e7&quot;,&quot;parentUUID&quot;:&quot;67cac3fc-e593-40af-b55c-a296e166af1d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Auth API\&quot;&quot;,&quot;fullTitle&quot;:&quot;Auth API \&quot;after all\&quot; hook in \&quot;Auth API\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:40,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Clean up\nawait mongoose.disconnect();\nawait mongoServer.stop();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a6a6eae1-5c4b-473c-9a59-32c05309080c&quot;,&quot;parentUUID&quot;:&quot;67cac3fc-e593-40af-b55c-a296e166af1d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ca3b3f55-1ca5-4c44-bba3-34f00e40459b&quot;,&quot;title&quot;:&quot;POST /auth/register&quot;,&quot;fullFile&quot;:&quot;D:\\Sixth smester\\web\\fashion-spot_Updated\\fashion-spot_Updated\\auth-service\\testcases\\auth.test.js&quot;,&quot;file&quot;:&quot;\\testcases\\auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should register a new user&quot;,&quot;fullTitle&quot;:&quot;Auth API POST /auth/register should register a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:163,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await chai.request(app)\n  .post(&#x27;/auth/register&#x27;)\n  .send({\n    email: &#x27;test@example.com&#x27;,\n    password: &#x27;password123&#x27;,\n    role: &#x27;customer&#x27;,\n  });\nexpect(res).to.have.status(201);\nexpect(res.body).to.have.property(&#x27;message&#x27;, &#x27;User registered successfully&#x27;);\nexpect(res.body).to.have.property(&#x27;token&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af2213ca-480d-4063-bed1-6eb51f04a6e7&quot;,&quot;parentUUID&quot;:&quot;ca3b3f55-1ca5-4c44-bba3-34f00e40459b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not register a user with an existing email&quot;,&quot;fullTitle&quot;:&quot;Auth API POST /auth/register should not register a user with an existing email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await User.create({\n  email: &#x27;test@example.com&#x27;,\n  password: &#x27;password123&#x27;,\n  role: &#x27;customer&#x27;,\n});\nconst res = await chai.request(app)\n  .post(&#x27;/auth/register&#x27;)\n  .send({\n    email: &#x27;test@example.com&#x27;,\n    password: &#x27;password123&#x27;,\n    role: &#x27;customer&#x27;,\n  });\nexpect(res).to.have.status(400);\nexpect(res.body).to.have.property(&#x27;message&#x27;, &#x27;User already exists&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06433517-77ff-440d-b2e9-4fb2db2e05b7&quot;,&quot;parentUUID&quot;:&quot;ca3b3f55-1ca5-4c44-bba3-34f00e40459b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 400 for invalid input&quot;,&quot;fullTitle&quot;:&quot;Auth API POST /auth/register should return 400 for invalid input&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await chai.request(app)\n  .post(&#x27;/auth/register&#x27;)\n  .send({\n    email: &#x27;invalid-email&#x27;,\n    password: &#x27;&#x27;,\n  });\nexpect(res).to.have.status(500); // Adjust based on actual validation&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd1f82de-1926-40b3-a6e6-acb448fbae32&quot;,&quot;parentUUID&quot;:&quot;ca3b3f55-1ca5-4c44-bba3-34f00e40459b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;af2213ca-480d-4063-bed1-6eb51f04a6e7&quot;,&quot;06433517-77ff-440d-b2e9-4fb2db2e05b7&quot;,&quot;fd1f82de-1926-40b3-a6e6-acb448fbae32&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:280,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;78b18c9a-af35-43da-919c-1c73f68bc8f7&quot;,&quot;title&quot;:&quot;POST /auth/login&quot;,&quot;fullFile&quot;:&quot;D:\\Sixth smester\\web\\fashion-spot_Updated\\fashion-spot_Updated\\auth-service\\testcases\\auth.test.js&quot;,&quot;file&quot;:&quot;\\testcases\\auth.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;POST /auth/login\&quot;&quot;,&quot;fullTitle&quot;:&quot;Auth API POST /auth/login \&quot;before each\&quot; hook in \&quot;POST /auth/login\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await chai.request(app)\n  .post(&#x27;/auth/register&#x27;)\n  .send({\n    email: &#x27;test@example.com&#x27;,\n    password: &#x27;password123&#x27;,\n    role: &#x27;customer&#x27;,\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;860eb46e-c61d-4ced-9b7a-1fa8571ded80&quot;,&quot;parentUUID&quot;:&quot;78b18c9a-af35-43da-919c-1c73f68bc8f7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should login a user with correct credentials&quot;,&quot;fullTitle&quot;:&quot;Auth API POST /auth/login should login a user with correct credentials&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await chai.request(app)\n  .post(&#x27;/auth/login&#x27;)\n  .send({\n    email: &#x27;test@example.com&#x27;,\n    password: &#x27;password123&#x27;,\n  });\nexpect(res).to.have.status(200);\nexpect(res.body).to.have.property(&#x27;message&#x27;, &#x27;Login successful&#x27;);\nexpect(res.body).to.have.property(&#x27;token&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10862aea-81e6-4616-afbc-8006298ddc6c&quot;,&quot;parentUUID&quot;:&quot;78b18c9a-af35-43da-919c-1c73f68bc8f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not login with incorrect password&quot;,&quot;fullTitle&quot;:&quot;Auth API POST /auth/login should not login with incorrect password&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:87,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await chai.request(app)\n  .post(&#x27;/auth/login&#x27;)\n  .send({\n    email: &#x27;test@example.com&#x27;,\n    password: &#x27;wrongpassword&#x27;,\n  });\nexpect(res).to.have.status(400);\nexpect(res.body).to.have.property(&#x27;message&#x27;, &#x27;Incorrect password&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;956ad3f8-4aca-4805-9879-f53145cdcdea&quot;,&quot;parentUUID&quot;:&quot;78b18c9a-af35-43da-919c-1c73f68bc8f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not login with non-existent user&quot;,&quot;fullTitle&quot;:&quot;Auth API POST /auth/login should not login with non-existent user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await chai.request(app)\n  .post(&#x27;/auth/login&#x27;)\n  .send({\n    email: &#x27;nonexistent@example.com&#x27;,\n    password: &#x27;password123&#x27;,\n  });\nexpect(res).to.have.status(400);\nexpect(res.body).to.have.property(&#x27;message&#x27;, &#x27;User not found&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;574dea54-a5d4-4061-8a37-586743478015&quot;,&quot;parentUUID&quot;:&quot;78b18c9a-af35-43da-919c-1c73f68bc8f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;10862aea-81e6-4616-afbc-8006298ddc6c&quot;,&quot;956ad3f8-4aca-4805-9879-f53145cdcdea&quot;,&quot;574dea54-a5d4-4061-8a37-586743478015&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:187,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;85182fa3-f404-43c5-aa21-f874be4bdfe6&quot;,&quot;title&quot;:&quot;Product API&quot;,&quot;fullFile&quot;:&quot;D:\\Sixth smester\\web\\fashion-spot_Updated\\fashion-spot_Updated\\auth-service\\testcases\\product.test.js&quot;,&quot;file&quot;:&quot;\\testcases\\product.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Product API\&quot;&quot;,&quot;fullTitle&quot;:&quot;Product API \&quot;before all\&quot; hook in \&quot;Product API\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:512,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Start MongoDB in-memory server\nmongoServer = await MongoMemoryServer.create();\nconst mongoUri = mongoServer.getUri();\n\n// Connect to test DB\nawait mongoose.disconnect();\nawait mongoose.connect(mongoUri);\n// Create an admin user and generate a token\nconst admin = await User.create({\n  email: &#x27;admin@example.com&#x27;,\n  password: &#x27;password123&#x27;,\n  role: &#x27;admin&#x27;,\n});\nadminToken = jwt.sign(\n  { userId: admin._id, role: admin.role },\n  process.env.JWT_SECRET || &#x27;yourSecretKey123&#x27;,\n  { expiresIn: &#x27;1h&#x27; }\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d5b11f0-190d-4d08-b196-4ad1264d70b6&quot;,&quot;parentUUID&quot;:&quot;85182fa3-f404-43c5-aa21-f874be4bdfe6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Product API\&quot;&quot;,&quot;fullTitle&quot;:&quot;Product API \&quot;before each\&quot; hook in \&quot;Product API\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Clear Product collection before each test\nawait Product.deleteMany({});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bdbbeeea-953b-45be-a3f9-f7afd61bce58&quot;,&quot;parentUUID&quot;:&quot;85182fa3-f404-43c5-aa21-f874be4bdfe6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Product API\&quot;&quot;,&quot;fullTitle&quot;:&quot;Product API \&quot;after all\&quot; hook in \&quot;Product API\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Clean up\nawait mongoose.disconnect();\nawait mongoServer.stop();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e1311bd-592d-4927-8f82-c28d3908bb87&quot;,&quot;parentUUID&quot;:&quot;85182fa3-f404-43c5-aa21-f874be4bdfe6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;060eaace-a14b-4a97-b00a-bf31da049f41&quot;,&quot;title&quot;:&quot;POST /products&quot;,&quot;fullFile&quot;:&quot;D:\\Sixth smester\\web\\fashion-spot_Updated\\fashion-spot_Updated\\auth-service\\testcases\\product.test.js&quot;,&quot;file&quot;:&quot;\\testcases\\product.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a product with admin access&quot;,&quot;fullTitle&quot;:&quot;Product API POST /products should create a product with admin access&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const productData = {\n  name: &#x27;Test Product&#x27;,\n  description: &#x27;A test product&#x27;,\n  price: 29.99,\n  images: [&#x27;http://example.com/image.jpg&#x27;],\n  category: &#x27;Test Category&#x27;,\n  stock: 100,\n};\nconst res = await chai.request(app)\n  .post(&#x27;/products&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${adminToken}`)\n  .send(productData);\nexpect(res).to.have.status(201);\nexpect(res.body).to.have.property(&#x27;message&#x27;, &#x27;Product added successfully&#x27;);\nexpect(res.body.product).to.have.property(&#x27;name&#x27;, &#x27;Test Product&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 201 but got 404&quot;,&quot;estack&quot;:&quot;AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 201 but got 404\n    at Context.&lt;anonymous&gt; (testcases\\product.test.js:68:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)&quot;,&quot;diff&quot;:&quot;- 404\n+ 201\n&quot;},&quot;uuid&quot;:&quot;01f8d480-c2e5-4ed2-a6e9-305a1901f37c&quot;,&quot;parentUUID&quot;:&quot;060eaace-a14b-4a97-b00a-bf31da049f41&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a product without admin access&quot;,&quot;fullTitle&quot;:&quot;Product API POST /products should not create a product without admin access&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const customerToken = jwt.sign(\n  { userId: &#x27;customer_id&#x27;, role: &#x27;customer&#x27; },\n  process.env.JWT_SECRET || &#x27;yourSecretKey123&#x27;,\n  { expiresIn: &#x27;1h&#x27; }\n);\nconst res = await chai.request(app)\n  .post(&#x27;/products&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${customerToken}`)\n  .send({\n    name: &#x27;Test Product&#x27;,\n    description: &#x27;A test product&#x27;,\n    price: 29.99,\n    images: [&#x27;http://example.com/image.jpg&#x27;],\n    category: &#x27;Test Category&#x27;,\n    stock: 100,\n  });\nexpect(res).to.have.status(403);\nexpect(res.body).to.have.property(&#x27;message&#x27;, &#x27;Forbidden: Access denied&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 403 but got 404&quot;,&quot;estack&quot;:&quot;AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 403 but got 404\n    at Context.&lt;anonymous&gt; (testcases\\product.test.js:92:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)&quot;,&quot;diff&quot;:&quot;- 404\n+ 403\n&quot;},&quot;uuid&quot;:&quot;af52721c-40a2-4b3d-bb85-92496348cb2e&quot;,&quot;parentUUID&quot;:&quot;060eaace-a14b-4a97-b00a-bf31da049f41&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 400 for invalid product data&quot;,&quot;fullTitle&quot;:&quot;Product API POST /products should return 400 for invalid product data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await chai.request(app)\n  .post(&#x27;/products&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${adminToken}`)\n  .send({\n    name: &#x27;&#x27;,\n    description: &#x27;Invalid product&#x27;,\n  });\nexpect(res).to.have.status(400);\nexpect(res.body).to.have.property(&#x27;error&#x27;, &#x27;Error adding product&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 400 but got 404&quot;,&quot;estack&quot;:&quot;AssertionError: expected Response{ _events: {}, …(34), …(2) } to have status code 400 but got 404\n    at Context.&lt;anonymous&gt; (testcases\\product.test.js:105:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)&quot;,&quot;diff&quot;:&quot;- 404\n+ 400\n&quot;},&quot;uuid&quot;:&quot;4e798a95-8a43-4f2a-9865-d9eba5adac2f&quot;,&quot;parentUUID&quot;:&quot;060eaace-a14b-4a97-b00a-bf31da049f41&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;01f8d480-c2e5-4ed2-a6e9-305a1901f37c&quot;,&quot;af52721c-40a2-4b3d-bb85-92496348cb2e&quot;,&quot;4e798a95-8a43-4f2a-9865-d9eba5adac2f&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;5704ba61-018d-4102-ba44-352c240b1f20&quot;,&quot;title&quot;:&quot;GET /products&quot;,&quot;fullFile&quot;:&quot;D:\\Sixth smester\\web\\fashion-spot_Updated\\fashion-spot_Updated\\auth-service\\testcases\\product.test.js&quot;,&quot;file&quot;:&quot;\\testcases\\product.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve all products&quot;,&quot;fullTitle&quot;:&quot;Product API GET /products should retrieve all products&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await Product.create({\n  name: &#x27;Test Product&#x27;,\n  description: &#x27;A test product&#x27;,\n  price: 29.99,\n  images: [&#x27;http://example.com/image.jpg&#x27;],\n  category: &#x27;Test Category&#x27;,\n  stock: 100,\n});\nconst res = await chai.request(app)\n  .get(&#x27;/products&#x27;);\nexpect(res).to.have.status(200);\nexpect(res.body).to.be.an(&#x27;array&#x27;);\nexpect(res.body[0]).to.have.property(&#x27;name&#x27;, &#x27;Test Product&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9dba8179-b2da-4830-960c-f1cad858494d&quot;,&quot;parentUUID&quot;:&quot;5704ba61-018d-4102-ba44-352c240b1f20&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return empty array when no products exist&quot;,&quot;fullTitle&quot;:&quot;Product API GET /products should return empty array when no products exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await chai.request(app)\n  .get(&#x27;/products&#x27;);\nexpect(res).to.have.status(200);\nexpect(res.body).to.be.an(&#x27;array&#x27;);\nexpect(res.body).to.have.lengthOf(0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31faca3a-3e9e-4fe7-bafc-9cf7302affa1&quot;,&quot;parentUUID&quot;:&quot;5704ba61-018d-4102-ba44-352c240b1f20&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9dba8179-b2da-4830-960c-f1cad858494d&quot;,&quot;31faca3a-3e9e-4fe7-bafc-9cf7302affa1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:24,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:10000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.8.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;report&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;./mochawesome-report&quot;,&quot;reportFilename&quot;:&quot;report&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;report&quot;,&quot;reportDir&quot;:&quot;./mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;auth-service&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;D:\\Sixth smester\\web\\fashion-spot_Updated\\fashion-spot_Updated\\auth-service\\mochawesome-report\\report.json&quot;,&quot;htmlFile&quot;:&quot;D:\\Sixth smester\\web\\fashion-spot_Updated\\fashion-spot_Updated\\auth-service\\mochawesome-report\\report.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>